diff --git a/BUILD b/BUILD
index 6db5fd9..beafec1 100644
--- a/BUILD
+++ b/BUILD
@@ -91,7 +91,7 @@ cc_library(
         ":headers",
     ] + select({
         "//bazel:crypto_system": [],
-        "//conditions:default": ["@boringssl//:crypto"],
+        "//conditions:default": ["@envoy//bazel:boringcrypto"],
     }),
     alwayslink = 1,
 )
@@ -133,7 +133,7 @@ cc_library(
     ],
     deps = [
         ":wasm_vm_headers",
-        "//external:wee8",
+        "@v8//:wee8",
     ],
 )
 
@@ -151,7 +151,7 @@ cc_library(
     ],
     deps = [
         ":wasm_vm_headers",
-        "//external:wamr",
+        "@envoy//bazel/foreign_cc:wamr",
     ],
 )
 
@@ -217,7 +217,7 @@ cc_library(
     }),
     deps = [
         ":wasm_vm_headers",
-        "//external:wasmtime",
+        "@com_github_wasmtime//:wasmtime_lib",
     ],
 )
 
@@ -276,7 +276,7 @@ cc_library(
     }),
     deps = [
         ":wasm_vm_headers",
-        "//external:prefixed_wasmtime",
+        "@com_github_wasmtime//:prefixed_wasmtime_lib",
     ],
 )
 
diff --git a/include/proxy-wasm/wasm_vm.h b/include/proxy-wasm/wasm_vm.h
index 9a2f0a6..e2e2ea0 100644
--- a/include/proxy-wasm/wasm_vm.h
+++ b/include/proxy-wasm/wasm_vm.h
@@ -161,7 +161,7 @@ struct WasmVmIntegration {
   virtual proxy_wasm::LogLevel getLogLevel() = 0;
   virtual void error(std::string_view message) = 0;
   // Allow integrations to handle specific FailStates differently.
-  virtual void error(FailState fail_state, std::string_view message) { error(message); }
+  virtual void error(FailState, std::string_view message) { error(message); }
   virtual void trace(std::string_view message) = 0;
   // Get a NullVm implementation of a function.
   // @param function_name is the name of the function with the implementation specific prefix.
