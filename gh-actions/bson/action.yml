inputs:
  input:
    type: string
    required: true
  filter:
    type: string
    default: .

outputs:
  exit-code:
    value: ${{ steps.command.outputs.actual }}
  output:
    value: ${{ steps.completed.outputs.output }}


runs:
  using: composite
  steps:
  - uses: envoyproxy/toolshed/gh-actions/jq@actions-v0.1.66
    id: command
    with:
      filter: ${{ inputs.input }}
      input-format: yaml
      print-output: true
      options: -r
      filter: ${{ inputs.filter }}
  - if: ${{ inputs.container-output && ( ! (cancelled() || fromJSON(steps.cancelled.outputs.value || 'false'))) }}
    id: output
    run: ${{ steps.command.outputs.value }}
    shell: bash
