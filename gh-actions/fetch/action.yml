
inputs:
  url:
    type: string
    required: true

outputs:
  path:
    value: ${{ steps.fetch.outputs.path }}

runs:
  using: "composite"
  steps:
  - run: |
      echo "FETCH ${{ inputs.url }}"
      tmpdir=$(mktemp -d)
      cd "$tmpdir"
      curl -sLO "${{ inputs.url }}"
      filepath="$(realpath "$(basename "${{ inputs.url }}")")"
      echo "path=${filepath}" >> $GITHUB_OUTPUT
      cd -
    shell: bash
    id: fetch
