uses: ./actions/github/checkout
id: checkout
with:
  # setting main here would work - but partly this is testing
  # that the branch-name is just `main`
  branch: refs/heads/main

after:
- shell: bash
  run: |
    # TODO: REMOVE ME
    if [[ ! -f "${ACTION_TEST_PATH}/test_fun.sh" ]]; then
        exit 0
    fi
    EXPECTED_REPO="%{{ github.repository }}"
    OUTPUT_BRANCH="%{{ steps.checkout.outputs.branch-name }}"
    EXPECTED_BRANCH="main"
    test_checkout
    test_repository $EXPECTED_REPO
    test_branch "$OUTPUT_BRANCH" "$EXPECTED_BRANCH"
